<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <link rel="icon" href="%PUBLIC_URL%/favicon.svg" />
        <meta name="theme-color" content="#000000" />
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="My workshop for UI development" />
        <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <!-- CSS only -->
    <!-- bootstrap css -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">

    <style>
        div.app {
            display: flex;
            flex-direction: column;
            padding: 20px;
            height: 100vh;
        }
        .header {
            min-height: 50px;
            border: 1px solid gray;
            
            max-height: 200px;
            overflow: auto;
        }
        .main-content {
            flex-grow: 1;
        }

        .footer {
            height: 50px;
            border: 1px solid gray;
            text-align: center;
        }
    </style>
</head>

<body>
<div class="app">
    <header class='header' id='head'>
        <img></img>
        Header content
        </header>
        <div class='main-content'>
            Main Content

            <!-- <button onClick="changeBackgroundRandomly()">Change header background</button> -->
                    
            <button onClick="getUserData()">Get user photo</button>
            <button onClick="getUsersDataUsingAjax()">Get users data using Ajax</button>

        </div>
        <footer class=='footer'>
        
            copyright all rights reserved @ 2021
        </footer>
</div>



<script>
    function changeBackgroundRandomly() {
    // getElementsByClassName('header')[0]

    let color = ['green', 'salmon', 'red', 'blue', 'yellow'];
    
    setInterval(function randomBgcolor() {
        let randomNumber = Math.floor(Math.random()*5);
        let randomColor = color[randomNumber];
        document.getElementsByTagName('body')[0].setAttribute('style', "background: " + randomColor);
    }, 2000);
        
    }

    function getUserData () {
        fetch('https://jsonplaceholder.typicode.com/photos/5')
        .then(response => response.json())
        .then(json => {
            console.log(json);
            let img = new Image();
            img.src = json.thumbnailUrl;
            document.getElementsByTagName('header')[0].append(img);
        })
    }


    // getUserData();
    // setTimeout(() =>{
    //     changeBackgroundRandomly();
    // }, 10000); 

    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<script>

function getUsersDataUsingAjax() {
    $.ajax('https://jsonplaceholder.typicode.com/users', 
        {
            success: function (data, status, xhr) {
            
                for (let i=0; i < data.length; i++ ) {
                        console.log('email id of user', data[i].name, data[i].email);
                    $('#head').append("<div>" + "<span>" + data[i].email + "</span>" + "<span>" + data[i].name + "</span>" + "</div>")
                }
            },

            error: function (error) {
                console.log('error', error);
                $('#head').append("<div>" + "Data not found in server" + "</div>");
            }
    });
}
</script>

</body>
</html>
